var C=Object.defineProperty;var S=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var P=(t,e,o)=>e in t?C(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,T=(t,e)=>{for(var o in e||(e={}))R.call(e,o)&&P(t,o,e[o]);if(S)for(var o of S(e))x.call(e,o)&&P(t,o,e[o]);return t};import{c as H,a as V,p as M,b as v,d as U,e as J,s as K,i as _,f as y,u as F,g as E,o as W,h as b,r as k,j as z,k as G,l as Q,w as d,m as B,n as f,q as X}from"./vendor.8ab3c7e8.js";const Y=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}};Y();const Z="modulepreload",I={},q="/amiibo-showcase/",h=function(e,o){return!o||o.length===0?e():Promise.all(o.map(n=>{if(n=`${q}${n}`,n in I)return;I[n]=!0;const r=n.endsWith(".css"),i=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${i}`))return;const s=document.createElement("link");if(s.rel=r?"stylesheet":Z,r||(s.as="script",s.crossOrigin=""),s.href=n,document.head.appendChild(s),r)return new Promise((l,p)=>{s.addEventListener("load",l),s.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>e())},ee="amiibo-showcase",te="Amiibo Showcase",oe="1.0.0",ne="MIT",re={dev:"vite",build:"vite build",preview:"vite preview",lint:"eslint --no-fix","lint:fix":"eslint",test:"jest","test:coverage":"jest --coverage","test:fails":"jest --onlyFailures",deploy:"gh-pages -d dist"},ie={axios:"^0.21.1","date-fns":"^2.28.0",flatpickr:"^4.6.11","js-cookie":"^3.0.1","jwt-decode":"^3.1.2",vue:"^3.2.25","vue-i18n":"9.1.9","vue-router":"4.0.12"},se={"@commitlint/cli":"^13.1.0","@commitlint/config-conventional":"^13.1.0","@types/jest":"^24.0.19","@types/node":"^16.11.4","@typescript-eslint/eslint-plugin":"^4.18.0","@typescript-eslint/parser":"^4.18.0","@vitejs/plugin-vue":"^2.2.0",eslint:"^7.32.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-vue":"^8.4.0","gh-pages":"^6.1.1","lint-staged":"^11.2.4",prettier:"^2.2.1",sass:"~1.32.13","sass-loader":"^10.2.1","ts-jest":"^27.1.3",typescript:"^4.5.4","unplugin-vue-components":"^0.17.11",vite:"^2.8.0","vue-jest":"^5.0.0-0","vue-tsc":"^0.29.8"},ce={"pre-commit":"lint-staged","prepare-commit-msg":"commitlint --edit","pre-push":"yarn test --passWithNoTests"},ae={extends:["@commitlint/config-conventional"]};var g={name:ee,title:te,version:oe,license:ne,scripts:re,dependencies:ie,devDependencies:se,gitHooks:ce,commitlint:ae,"lint-staged":{"*.{ts,js,vue}":"yarn lint:fix"}},c={appName:g.name,appVersion:g.version,appTitle:g.title,baseUrl:String("/amiibo-showcase/"),env:{dev:{}.NODE_ENV==="development",test:{}.NODE_ENV==="testing",prod:{}.NODE_ENV==="production"},local:{enabled:!1,accessToken:String("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c")},backend:{apiUrl:String("https://www.amiiboapi.com/api")},keys:{core:{accessToken:"js.amiiboShowcase.accessToken",redirectPath:"js.amiiboShowcase.redirectPath"}}};function ue(){const t=typeof navigator!="undefined"&&navigator.language;return String(t).slice(0,2)}function Ge(t){const e=String(t).toUpperCase().split(" ");return e[0][0]+e[e.length-1][0]}function Qe(t=500){let e;return o=>{clearTimeout(e),e=setTimeout(o,t)}}function le(t){return Object.keys(t).reduce((e,o)=>{const n=t[o];return n?Array.isArray(n)?n.length===0?e:`${e}&${o}=${n.join(",")}`:`${e}&${o}=${n}`:e},"")}function Be(t){return e=>{e.preventDefault(),t==null||t()}}function Xe(){const t=document.documentElement,e=(window.pageYOffset||t.scrollTop)-(t.clientTop||0),o=(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0),n=e+t.clientHeight,r=o+t.clientWidth;return{top:e,right:r,bottom:n,left:o}}const pe={home:"/home",login:"/login",logout:"/logout"},me={user:{logout:"Logout"},menu:{home:"Home"}},de={title:"Home"},fe={title:"Login"},he={title:"Logout"};var ge={routes:pe,app:me,home:de,login:fe,logout:he};const ve={home:"/inicio",login:"/entrar",logout:"/sair"},_e={user:{logout:"Sair"},menu:{home:"Inicio"}},ye={title:"Inicio"},be={title:"Entrar"},ke={title:"Sair"};var we={routes:ve,app:_e,home:ye,login:be,logout:ke},a=(t=>(t.EN="en",t.PT="pt",t))(a||{});const u=H({locale:ue()||a.EN,fallbackLocale:a.EN,messages:{[a.EN]:ge,[a.PT]:we},dateTimeFormats:{[a.EN]:{short:{year:"numeric",month:"numeric",day:"numeric"},long:{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}},[a.PT]:{short:{year:"numeric",month:"numeric",day:"numeric"},long:{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}}}});function O(t,e,o){const n=new Date().toISOString(),r=o?V(M(n),o).toISOString():null,i=c.appVersion;return localStorage.setItem(t,JSON.stringify({at:n,until:r,version:i,data:e})),e}function Se(t,e){Object.keys(t).forEach(o=>{v.set(o,t[o],{path:"",secure:!0,sameSite:"Lax",expires:e})})}function $(t){return v.get()[t]||void 0}function Pe(...t){t.forEach(e=>{v.remove(e,{path:""})})}function Te(t,e,o){if(t.matched.some(n=>n.meta.protected)){$(c.keys.core.accessToken)?o():(O(c.keys.core.redirectPath,t.fullPath),o("/login"));return}o()}function Ee(t,e,o){t.meta.title?document.title=`${c.appTitle} | ${t.meta.title}`:document.title=c.appTitle,o()}const Ie=[{path:"/",alias:u.global.t("routes.home"),component:()=>h(()=>import("./HomePage.7e4a9a7b.js"),["assets/HomePage.7e4a9a7b.js","assets/HomePage.455b3880.css","assets/vendor.8ab3c7e8.js"]),meta:{title:u.global.t("home.title"),protected:!0}},{path:"/login",alias:u.global.t("routes.login"),component:()=>h(()=>import("./LoginPage.83035368.js"),["assets/LoginPage.83035368.js","assets/vendor.8ab3c7e8.js"]),meta:{title:u.global.t("login.title")}},{path:"/logout",alias:u.global.t("routes.logout"),component:()=>h(()=>import("./LogoutPage.5e2e99b9.js"),["assets/LogoutPage.5e2e99b9.js","assets/vendor.8ab3c7e8.js"]),meta:{title:u.global.t("logout.title")}}],w=U({history:J(c.baseUrl),routes:Ie});w.beforeEach(Te);w.beforeEach(Ee);function Oe(t){const e=K(t);function o(n){return e.value=n,n}return[e,o]}const A=Symbol("auth-provider");function $e(){const t=F(),[e,o]=Oe($(c.keys.core.accessToken)),n=E(()=>{if(e.value&&!e.value.includes("undefined"))return W(e.value)}),r=E(()=>!!e.value);function i(m,D){o(m),Se({[c.keys.core.accessToken]:m},D)}function s(){o(void 0),Pe(c.keys.core.accessToken)}function l(m){i(c.local.accessToken||""),t.push("/")}function p(){s(),t.push("/login")}function L(){l()}return{accessToken:e,user:n,authenticated:r,login:l,logout:p,handleUnauthorized:L}}function Ae(){y(A,$e())}function je(){return _(A)}const Ne=b({setup(t){return Ae(),(e,o)=>k(e.$slots,"default")}}),j=Symbol("http-provider");function Le(){const{accessToken:t,handleUnauthorized:e}=je(),o=z.create({baseURL:c.backend.apiUrl,paramsSerializer:le});return o.interceptors.request.use(n=>t.value?T({},n):n),o.interceptors.response.use(n=>n,n=>{var r;return((r=n.response)==null?void 0:r.status)===401&&(O(c.keys.core.redirectPath,window.location.pathname),e()),Promise.reject(n)}),o}function De(){y(j,Le())}function Ce(){return _(j)}const Re=b({setup(t){return De(),(e,o)=>k(e.$slots,"default")}});class xe{constructor(e){this.http=e}async getAmiibos(e){return this.http.get("/amiibo",{params:e}).then(o=>o.data.amiibo)}async getGameseries(){return this.http.get("/gameseries").then(e=>e.data.amiibo)}}const N=Symbol("api-provider");function He(){const t=Ce();return{amiibo:new xe(t)}}function Ve(){y(N,He())}function Ye(){return _(N)}const Me=b({setup(t){return Ve(),(e,o)=>k(e.$slots,"default")}});var Ue=(t,e)=>{const o=t.__vccOpts||t;for(const[n,r]of e)o[n]=r;return o};const Je={};function Ke(t,e){const o=B("router-view"),n=Me,r=Re,i=Ne;return G(),Q(i,null,{default:d(()=>[f(r,null,{default:d(()=>[f(n,null,{default:d(()=>[f(o)]),_:1})]),_:1})]),_:1})}var Fe=Ue(Je,[["render",Ke]]);X(Fe).use(w).use(u).mount("#app");export{Ue as _,Ye as a,Oe as b,Qe as d,Ge as g,Be as p,Xe as s,je as u};
